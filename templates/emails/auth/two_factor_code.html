<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Two-Factor Authentication Code</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
    <style>
        /* Email client compatibility styles */
        body {
            margin: 0;
            padding: 0;
            background-color: #f4f7fa;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
        }
        
        /* Container and layout styles */
        .email-container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        /* Header styles */
        .email-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px 40px;
            text-align: center;
            color: #ffffff;
        }
        
        .email-header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .security-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 15px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        /* Main content styles */
        .email-content {
            padding: 40px;
        }
        
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .content-text {
            font-size: 16px;
            margin-bottom: 25px;
            color: #5a6c7d;
            line-height: 1.6;
        }
        
        /* OTP code display styles */
        .otp-container {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f0fe 100%);
            border: 2px solid #4285f4;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin: 30px 0;
            position: relative;
        }
        
        .otp-label {
            font-size: 14px;
            font-weight: 600;
            color: #4285f4;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }
        
        .otp-code {
            font-size: 36px;
            font-weight: 700;
            color: #1a73e8;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            letter-spacing: 8px;
            margin: 15px 0;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .otp-expiry {
            font-size: 14px;
            color: #ea4335;
            font-weight: 500;
            margin-top: 15px;
        }
        
        .otp-timer {
            font-weight: 700;
            color: #d33b00;
        }
        
        /* Instructions section */
        .instructions {
            background-color: #f8f9fa;
            border-left: 4px solid #34a853;
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .instructions h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #137333;
            font-weight: 600;
        }
        
        .instructions ul {
            margin: 0;
            padding-left: 20px;
            color: #5f6368;
        }
        
        .instructions li {
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        /* Security warning section */
        .security-warning {
            background-color: #fef7e0;
            border: 1px solid #fbbc04;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .security-warning h3 {
            margin: 0 0 10px 0;
            font-size: 16px;
            color: #ea8600;
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .warning-icon {
            margin-right: 8px;
            font-size: 18px;
        }
        
        .security-warning p {
            margin: 0;
            font-size: 14px;
            color: #b06000;
            line-height: 1.5;
        }
        
        /* Auth0 integration info */
        .auth0-info {
            background-color: #f0f4ff;
            border: 1px solid #4285f4;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            font-size: 13px;
            color: #1a73e8;
        }
        
        /* Call-to-action button */
        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #4285f4 0%, #1a73e8 100%);
            color: #ffffff;
            text-decoration: none;
            padding: 14px 28px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 16px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(66, 133, 244, 0.3);
            transition: all 0.3s ease;
        }
        
        .cta-button:hover {
            background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%);
            box-shadow: 0 4px 8px rgba(66, 133, 244, 0.4);
        }
        
        /* Footer styles */
        .email-footer {
            background-color: #f8f9fa;
            padding: 30px 40px;
            text-align: center;
            border-top: 1px solid #e8eaed;
        }
        
        .footer-text {
            font-size: 12px;
            color: #5f6368;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .footer-links {
            margin-top: 15px;
        }
        
        .footer-links a {
            color: #1a73e8;
            text-decoration: none;
            font-size: 12px;
            margin: 0 10px;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        /* Responsive design for mobile devices */
        @media only screen and (max-width: 600px) {
            .email-container {
                width: 100% !important;
                margin: 0 !important;
                border-radius: 0 !important;
            }
            
            .email-header, .email-content, .email-footer {
                padding: 25px 20px !important;
            }
            
            .email-header h1 {
                font-size: 22px !important;
            }
            
            .otp-container {
                padding: 20px !important;
                margin: 20px 0 !important;
            }
            
            .otp-code {
                font-size: 32px !important;
                letter-spacing: 6px !important;
            }
            
            .greeting {
                font-size: 16px !important;
            }
            
            .content-text {
                font-size: 15px !important;
            }
        }
        
        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            .email-container {
                background-color: #1f1f1f !important;
            }
            
            .email-content {
                color: #e8eaed !important;
            }
            
            .content-text {
                color: #bdc1c6 !important;
            }
            
            .instructions {
                background-color: #2d2d2d !important;
                color: #e8eaed !important;
            }
        }
    </style>
</head>
<body>
    <div class="email-container">
        <!-- Email Header -->
        <div class="email-header">
            <div class="security-icon">
                üîí
            </div>
            <h1>Two-Factor Authentication</h1>
        </div>
        
        <!-- Main Email Content -->
        <div class="email-content">
            <div class="greeting">
                Hello {{ user_name or 'User' }},
            </div>
            
            <div class="content-text">
                We received a request to sign in to your account. To complete the login process and ensure your account security, please use the verification code below.
            </div>
            
            <!-- OTP Code Display -->
            <div class="otp-container">
                <div class="otp-label">Your Verification Code</div>
                <div class="otp-code">{{ otp_code or '123456' }}</div>
                <div class="otp-expiry">
                    This code expires in <span class="otp-timer">{{ expiry_minutes or '10' }} minutes</span>
                </div>
            </div>
            
            <!-- Auth0 MFA Integration Info -->
            <div class="auth0-info">
                <strong>üîê Enhanced Security:</strong> This code was generated by our secure Auth0 multi-factor authentication system to protect your account.
            </div>
            
            <!-- Usage Instructions -->
            <div class="instructions">
                <h3>üìã How to Use This Code</h3>
                <ul>
                    <li>Enter this 6-digit code in the verification field on your login screen</li>
                    <li>Complete the process within {{ expiry_minutes or '10' }} minutes before it expires</li>
                    <li>Use this code only once - it cannot be reused</li>
                    <li>If you don't see the verification field, return to the login page and try again</li>
                    <li>For mobile apps, you can copy and paste this code directly</li>
                </ul>
            </div>
            
            <!-- Security Warning -->
            <div class="security-warning">
                <h3>
                    <span class="warning-icon">‚ö†Ô∏è</span>
                    Important Security Information
                </h3>
                <p>
                    <strong>Never share this code with anyone.</strong> Our support team will never ask for your verification code. 
                    If you didn't request this code, someone may be trying to access your account. 
                    Please contact our security team immediately and consider changing your password.
                </p>
            </div>
            
            <div class="content-text">
                If you're having trouble with the verification process, you can also use alternative MFA methods 
                configured in your account settings, such as authenticator apps or backup codes.
            </div>
            
            <!-- Call-to-Action -->
            <div style="text-align: center;">
                <a href="{{ login_url or '#' }}" class="cta-button">
                    Complete Login Process
                </a>
            </div>
            
            <div class="content-text" style="margin-top: 30px; font-size: 14px; color: #5f6368;">
                <strong>Didn't request this code?</strong> If you didn't try to sign in, you can safely ignore this email. 
                Your account remains secure, and no action is required.
            </div>
        </div>
        
        <!-- Email Footer -->
        <div class="email-footer">
            <div class="footer-text">
                This is an automated security notification from {{ company_name or 'Your Application' }}.
                <br>
                Sent on {{ timestamp or 'now' }} from our secure authentication system.
            </div>
            
            <div class="footer-text">
                <strong>Security Tip:</strong> Always verify the sender's email address and never enter verification codes on suspicious websites.
            </div>
            
            <div class="footer-links">
                <a href="{{ help_url or '#' }}">Help Center</a>
                <a href="{{ security_url or '#' }}">Security Settings</a>
                <a href="{{ contact_url or '#' }}">Contact Support</a>
            </div>
            
            <div class="footer-text" style="margin-top: 15px; font-size: 11px;">
                {{ company_name or 'Your Application' }} | Secured by Auth0 Multi-Factor Authentication
                <br>
                This email was sent to {{ user_email or 'your email address' }}
            </div>
        </div>
    </div>
</body>
</html>