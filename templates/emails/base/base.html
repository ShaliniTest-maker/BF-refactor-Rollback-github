<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="x-apple-disable-message-reformatting">
    <meta name="format-detection" content="telephone=no,address=no,email=no,date=no,url=no">
    <meta name="color-scheme" content="light dark">
    <meta name="supported-color-schemes" content="light dark">
    
    <title>{% block title %}{{ title or 'Email from Application' }}{% endblock %}</title>
    
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:AllowPNG/>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
    
    <style type="text/css">
        /* CSS Reset and Email-Safe Styling */
        
        /* Outlook fixes */
        table, td { border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; }
        img { -ms-interpolation-mode: bicubic; border: 0; outline: none; text-decoration: none; }
        
        /* Remove spacing around email in some email clients */
        #outlook a { padding: 0; }
        
        /* Force Outlook to provide a "view in browser" message */
        .ReadMsgBody { width: 100%; }
        .ExternalClass { width: 100%; }
        .ExternalClass, .ExternalClass p, .ExternalClass span, .ExternalClass font, .ExternalClass td, .ExternalClass div { line-height: 100%; }
        
        /* Remove default styling */
        table, td, p, a, li, blockquote { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        
        /* Prevent WebKit and Windows mobile changing default text sizes */
        div[style*="margin: 16px 0"] { margin: 0 !important; }
        
        /* Remove default blue links */
        a[x-apple-data-detectors] {
            color: inherit !important;
            text-decoration: none !important;
            font-size: inherit !important;
            font-family: inherit !important;
            font-weight: inherit !important;
            line-height: inherit !important;
        }
        
        /* Fix for Gmail */
        u + .body .gmail-fix { display: none; }
        
        /* Base Typography */
        .email-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
        }
        
        .email-body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            font-size: 16px;
            line-height: 1.6;
            color: #333333;
            margin: 0;
            padding: 0;
        }
        
        /* Header Styles */
        .email-header {
            background-color: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }
        
        .email-header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
            color: #495057;
        }
        
        /* Content Styles */
        .email-content {
            padding: 30px 20px;
            background-color: #ffffff;
        }
        
        .email-content h1,
        .email-content h2,
        .email-content h3 {
            margin-top: 0;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.3;
        }
        
        .email-content h1 { font-size: 28px; color: #212529; }
        .email-content h2 { font-size: 24px; color: #495057; }
        .email-content h3 { font-size: 20px; color: #495057; }
        
        .email-content p {
            margin: 0 0 16px 0;
        }
        
        .email-content a {
            color: #007bff;
            text-decoration: none;
        }
        
        .email-content a:hover {
            text-decoration: underline;
        }
        
        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 500;
            text-align: center;
            text-decoration: none;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            line-height: 1.5;
        }
        
        .btn-primary {
            background-color: #007bff;
            color: #ffffff;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: #ffffff;
        }
        
        /* Footer Styles */
        .email-footer {
            background-color: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #e9ecef;
            font-size: 14px;
            color: #6c757d;
        }
        
        .email-footer p {
            margin: 0 0 8px 0;
        }
        
        .email-footer a {
            color: #6c757d;
            text-decoration: none;
        }
        
        .email-footer a:hover {
            text-decoration: underline;
        }
        
        /* Responsive Design */
        @media screen and (max-width: 600px) {
            .email-container {
                width: 100% !important;
                max-width: 100% !important;
            }
            
            .email-content,
            .email-header,
            .email-footer {
                padding: 20px 15px !important;
            }
            
            .email-content h1 { font-size: 24px !important; }
            .email-content h2 { font-size: 20px !important; }
            .email-content h3 { font-size: 18px !important; }
            
            .btn {
                display: block !important;
                width: 100% !important;
                padding: 14px 20px !important;
                font-size: 16px !important;
            }
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            .email-body { color: #ffffff !important; }
            .email-container { background-color: #1a1a1a !important; }
            .email-content { background-color: #1a1a1a !important; }
            .email-header,
            .email-footer { 
                background-color: #2d2d2d !important;
                border-color: #404040 !important;
            }
            .email-header h1 { color: #ffffff !important; }
            .email-content h1,
            .email-content h2,
            .email-content h3 { color: #ffffff !important; }
            .email-footer { color: #cccccc !important; }
            .email-footer a { color: #cccccc !important; }
        }
        
        /* Additional utility classes */
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        .mb-0 { margin-bottom: 0 !important; }
        .mb-1 { margin-bottom: 8px !important; }
        .mb-2 { margin-bottom: 16px !important; }
        .mb-3 { margin-bottom: 24px !important; }
        .mt-0 { margin-top: 0 !important; }
        .mt-1 { margin-top: 8px !important; }
        .mt-2 { margin-top: 16px !important; }
        .mt-3 { margin-top: 24px !important; }
        
        {% block email_styles %}{% endblock %}
    </style>
</head>
<body class="email-body">
    <span class="gmail-fix" style="display: none; white-space: nowrap; font: 15px courier; line-height: 0;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>
    
    <!-- Main email container -->
    <div role="article" aria-roledescription="email" aria-label="{% block email_label %}Email from Application{% endblock %}" lang="en">
        <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
            <tr>
                <td style="background-color: #f6f6f6; padding: 20px 0;">
                    <!--[if mso]>
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="600" align="center">
                    <tr>
                    <td>
                    <![endif]-->
                    
                    <div class="email-container">
                        <!-- Email Header -->
                        {% block email_header %}
                        <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                            <tr>
                                <td class="email-header">
                                    {% block header_content %}
                                    <h1>{% block header_title %}Application{% endblock %}</h1>
                                    {% endblock %}
                                </td>
                            </tr>
                        </table>
                        {% endblock %}
                        
                        <!-- Email Content -->
                        <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                            <tr>
                                <td class="email-content">
                                    {% block email_content %}
                                    <!-- Default content - should be overridden in child templates -->
                                    <h1>{% block content_title %}Welcome{% endblock %}</h1>
                                    <p>{% block content_message %}Thank you for using our application.{% endblock %}</p>
                                    {% endblock %}
                                </td>
                            </tr>
                        </table>
                        
                        <!-- Email Footer -->
                        {% block email_footer %}
                        <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                            <tr>
                                <td class="email-footer">
                                    {% block footer_content %}
                                    <p>{% block company_name %}Your Application{% endblock %}</p>
                                    <p>
                                        {% block footer_links %}
                                        <a href="{% block contact_url %}#{% endblock %}">Contact Us</a> |
                                        <a href="{% block privacy_url %}#{% endblock %}">Privacy Policy</a> |
                                        <a href="{% block unsubscribe_url %}#{% endblock %}">Unsubscribe</a>
                                        {% endblock %}
                                    </p>
                                    <p>{% block footer_address %}123 Main Street, City, State 12345{% endblock %}</p>
                                    {% endblock %}
                                </td>
                            </tr>
                        </table>
                        {% endblock %}
                    </div>
                    
                    <!--[if mso]>
                    </td>
                    </tr>
                    </table>
                    <![endif]-->
                </td>
            </tr>
        </table>
    </div>
    
    {% block email_scripts %}{% endblock %}
</body>
</html>